## Index

- The Parsing Process
- Context-Free Grammars
- Parse Trees and Abstract Syntax Trees
- Ambiguity
- Extended Notations: EBNF and Syntax Diagrams
- Formal Properties of Context-Free Languages
- Syntax of the Tiny Language



Parsing is the task of determing the syntax, or structure, of a program. It is also called ***syntax analysis***



## 3.1 THE PARSING PROCESS

It is the task of the parser to determine the syntactic structure of a program from the tokens produced by the scanner and, either explicitly or implicity, to construct a parse tree or syntax tree that represents this structure.



## 3.2 CONTEXT-FREE GRAMMARS

A context-free prammar is a specification for the syntatic structure of a programming language.



## 3.6 FORMAL PROPERTIES OF CONTEXT-FREE LANGUAGE

#### Definition

- A set **T** of terminals
- A set **N** of nonterminals(disjoint from T)
- A set **P** of productions, or grammar rules, of the form $A \rightarrow \alpha$, where A is an element of N and $\alpha$ is an element of $(T \bigcup N)*$ (a possibly empty sequence of terminals and nonterminals)
- A start symbol **S** From the set N



**G**: a grammar as defined above, $G = (T, N, P, S)$

A **derivation step** over G is of the form $\alpha A \gamma \Rightarrow \alpha \beta \gamma $, where $\alpha$ and $\gamma$ are elements of $(T \bigcup N)*$ and $A \rightarrow \beta$ is in P.

The union $T \bigcup N$ of the sets of terminals and nonterminals is sometimes called   the **set of symbols** of G, and a string $\alpha$ in $(T \bigcup N)*$ is called a **sentential from**.

A **derivation** over the grammar G is of the form $S \Rightarrow* w$, where $w \in T^*$(i.e., w is a string of terminals only, called a **sentence**).

The **language generated by G**, written L(G), is defined as the set  $L(G) = \{w \in T^* | there exists a derivation S \Rightarrow^* w \  of \ G\}$. That is, L(G) is the set of sentences derivable from S.

A set of strings L is said to be a **context-free language** if there is context-free grammar G such that $L = L(G)$.



#### leftmost derivation

TODO



#### rightmost derivation

TODO



#### Parse tree

- Each node is labeled with a terminal or a nonterminal or $\varepsilon$
- The root node is labeled with the start symbol S
- Each leaf node is labeled with a terminal or with $\varepsilon$
- Each nonleaf node is labeled with a nonterminal
- If a node with label A $\in$ N has n children with labels $X_1, X_2, ..., X_n$ (which may be terminals or nonterminals), then $A \rightarrow X_1, X_2, ..., X_n \in P $ (a production of the grammar).



#### What is the difference between context-free and context-sensitive 

***context-free***: nonterminals appear by themselves to the left of the arrow in context-free rules. Thus, a rule says that A may be replaced by $\alpha$ anywhere, regardless of where A occurs.

***context-sensitive***: A **context-sensitive grammar** (**CSG**) is a [formal grammar](https://en.wikipedia.org/wiki/Formal_grammar) in which the left-hand sides and right-hand sides of any [production rules](https://en.wikipedia.org/wiki/Production_(computer_science)) may be surrounded by a context of [terminal](https://en.wikipedia.org/wiki/Terminal_symbol) and [nonterminal symbols](https://en.wikipedia.org/wiki/Nonterminal_symbol)



下面是知乎上的一个解释：

> 上下文无关文法就是说这个文法中**所有的产生式左边只有一个非终结符**，比如：
> S -> aSb
> S -> ab
> 这个文法有两个产生式，每个产生式左边只有一个非终结符S，这就是上下文无关文法，因为你只要找到符合产生式右边的串，就可以把它归约为对应的非终结符。比如：
> aSb -> aaSbb
> S -> ab
> 这就是上下文相关文法，因为它的第一个产生式左边有不止一个符号，所以你在匹配这个产生式中的S的时候必需确保这个S有正确的“上下文”，也就是左边的a和右边的b，所以叫上下文相关文法。

